<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../node_modules/@near-wallet-selector/account-export/styles.css" />
    <link rel="stylesheet" href="../node_modules/@near-wallet-selector/modal-ui/styles.css" />
    <style>
      #near-wallet-selector-modal .close-button {
        display: none;
      }

      #near-wallet-selector-modal .nws-modal-overlay {
        display: none;
      }
    </style>
  </head>
  <body>
    <script type="module">
      import { Buffer } from "buffer";
      window.Buffer = Buffer;

      import { setupMyNearWallet } from "@near-wallet-selector/my-near-wallet";
      import { setupExportSelectorModal } from "@near-wallet-selector/account-export";
      import { setupWalletSelector } from "@near-wallet-selector/core";
      import { setupSender } from "@near-wallet-selector/sender";
      import { setupMeteorWallet } from "@near-wallet-selector/meteor-wallet";
      import { setupHereWallet } from "@near-wallet-selector/here-wallet";

      const init = async () => {
        const selector = await setupWalletSelector({
          network: "mainnet",
          modules: [setupMyNearWallet(), setupSender(), setupMeteorWallet(), setupHereWallet()],
          storage: {
            async getItem() {},
            async setItem() {},
          },
        });

        const search = new URL(window.location.href).searchParams;
        const modal = setupExportSelectorModal(selector, {
          accounts: [{ accountId: window.accountId, privateKey: window.privateKey }],
        });

        modal.show();
      };

      init();
    </script>
  </body>
</html>
